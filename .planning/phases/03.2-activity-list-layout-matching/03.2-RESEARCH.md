# Phase 3.2: Activity List Layout Matching - Research

**Researched:** 2026-02-16
**Domain:** MudBlazor DataGrid styling, CSS theming, reusable list component patterns
**Confidence:** HIGH

## Summary

This phase requires making the Blazor MudDataGrid activity list visually match the legacy WebForms table layout, hiding column filters behind a toggle, and -- critically -- doing all of this in a reusable, portal-themed way so that MANY lists across MULTIPLE portals can share the same styling pattern with different color schemes.

The legacy list uses a simple HTML `<table class="table table-hover">` wrapped in a `.list-desktop` container with specific padding (11px 13px), light teal borders (#e6f6f6), white cell backgrounds, teal hover (#e6f6f6), and a teal content-headline header. MudBlazor 8.0.0's MudDataGrid emits `.mud-table-*` CSS classes that can be overridden with custom CSS. The recommended approach is: define a set of CSS custom properties (variables) per portal theme, then write one shared CSS class that references those variables. Each portal sets the variables to its own color palette. MudDataGrid's `Filterable` property can be toggled at runtime via a bound boolean, making the filter row appear/disappear without page reload.

**Primary recommendation:** Create a reusable CSS class system (e.g., `.portal-data-grid`) driven by CSS custom properties for portal theming, apply it via MudDataGrid's `Class` parameter, and toggle filters by binding `Filterable` to a component boolean.

<user_constraints>
## User Constraints (from phase context)

### Locked Decisions
1. The styling pattern MUST be reusable -- many lists across the app will need the same look
2. The same list component styling will be used across MULTIPLE PORTALS (e.g., recruiting portal, job ad portal)
3. Component theming MUST support portal-specific color schemes (recruiting = teal #1a9b89, job ad portal = purple #421a56, etc.)
4. DO NOT hardcode styles for one list -- build a reusable, portal-themed MudDataGrid styling pattern

### Claude's Discretion
- Specific implementation approach for the portal theming (CSS variables recommended)
- How to structure the CSS files (shared vs per-portal)
- Whether to wrap MudDataGrid in a custom component or use CSS-only approach
- Filter toggle UI design (button placement, icon choice)

### Deferred Ideas (OUT OF SCOPE)
- Responsive/mobile list layout (legacy has a separate `.list-mobile` view -- not in scope for this phase)
- Checkbox/select-all column (legacy has this but it's for batch actions not yet built)
- Action menu popup (legacy has copy/go-to-ad actions -- future phase)
- Column visibility toggling at different breakpoints (legacy uses `visible-1400`, `visible-1300` etc.)
</user_constraints>

## Standard Stack

### Core
| Library | Version | Purpose | Why Standard |
|---------|---------|---------|--------------|
| MudBlazor | 8.0.0 | UI component library with MudDataGrid | Already installed, provides DataGrid with built-in filtering/sorting/pagination |

### Supporting
| Library | Version | Purpose | When to Use |
|---------|---------|---------|-------------|
| CSS Custom Properties | N/A (browser native) | Portal-specific theming via `--var()` | Always -- the theming mechanism |
| Blazor CSS Isolation | N/A (.razor.css) | Component-scoped styles with `::deep` | For component-specific overrides only |

### Alternatives Considered
| Instead of | Could Use | Tradeoff |
|------------|-----------|----------|
| CSS custom properties | Multiple MudTheme instances | MudThemeProvider sets CSS variables at `:root` level -- cannot scope different palettes to different page sections without CSS variable overrides anyway. CSS custom properties give more granular control for grid-specific theming. |
| CSS-only approach | Custom wrapper component around MudDataGrid | A wrapper adds indirection but doesn't add value since MudDataGrid's `Class` parameter already supports custom CSS classes. Use CSS-only. |
| `::deep` in component CSS | Global CSS in app.css | `::deep` doesn't work reliably with MudBlazor because MudBlazor generates elements outside the component's shadow scope. Use global CSS with specific class selectors. |

## Architecture Patterns

### Recommended Project Structure
```
src/SignaturPortal.Web/
├── wwwroot/
│   ├── css/
│   │   ├── portal-themes/
│   │   │   ├── _grid-base.css          # Shared grid styles using CSS variables
│   │   │   ├── theme-recruiting.css     # Recruiting portal CSS variable values
│   │   │   └── theme-adportal.css       # Ad portal CSS variable values (future)
│   │   └── ...
│   └── app.css                          # Existing global styles
├── Components/
│   └── Pages/
│       └── Activities/
│           ├── ActivityList.razor        # Apply portal-data-grid class
│           └── ActivityList.razor.cs     # Add filter toggle logic
└── ...
```

### Pattern 1: CSS Custom Property Theming for Grids

**What:** Define grid styling via CSS custom properties, set values per portal theme.
**When to use:** Any time a MudDataGrid (or similar list) needs portal-specific colors.

**How it works:**

1. Define CSS variables on a portal-theme class:
```css
/* theme-recruiting.css */
.theme-recruiting {
    --portal-grid-bg: #e6f6f6;
    --portal-grid-header-bg: #e6f6f6;
    --portal-grid-cell-bg: #fff;
    --portal-grid-cell-border: #e6f6f6;
    --portal-grid-hover-bg: #e6f6f6;
    --portal-grid-hover-cursor: pointer;
    --portal-grid-header-font-size: 14px;
    --portal-grid-cell-font-size: 14px;
    --portal-grid-cell-padding: 11px 13px;
    --portal-grid-header-padding: 11px 13px;
    --portal-grid-font-family: Tahoma, "Times New Roman", Arial, sans-serif;
    --portal-grid-headline-bg: #e6f6f6;
    --portal-grid-headline-color: #000;
    --portal-primary: #1a9b89;
    --portal-primary-dark: #178a79;
}
```

2. Write shared grid CSS that references variables:
```css
/* _grid-base.css */
.portal-data-grid {
    font-family: var(--portal-grid-font-family);
}

.portal-data-grid .mud-table-head .mud-table-cell {
    background-color: var(--portal-grid-header-bg);
    padding: var(--portal-grid-header-padding);
    font-size: var(--portal-grid-header-font-size);
    white-space: nowrap;
    border: 1px solid var(--portal-grid-cell-border);
}

.portal-data-grid .mud-table-body .mud-table-cell {
    background-color: var(--portal-grid-cell-bg);
    padding: var(--portal-grid-cell-padding);
    font-size: var(--portal-grid-cell-font-size);
    border: 1px solid var(--portal-grid-cell-border);
}

.portal-data-grid .mud-table-body .mud-table-row:hover .mud-table-cell {
    background-color: var(--portal-grid-hover-bg);
    cursor: var(--portal-grid-hover-cursor);
}
```

3. Apply in Razor:
```razor
<div class="theme-recruiting">
    <MudDataGrid T="ActivityListDto" Class="portal-data-grid" ...>
```

### Pattern 2: Filter Toggle via Filterable Binding

**What:** Bind `Filterable` to a boolean and toggle it with a button in the toolbar.
**When to use:** When filters should be hidden by default but available on demand.

```razor
<MudDataGrid T="ActivityListDto"
             Filterable="@_showFilters"
             FilterMode="DataGridFilterMode.ColumnFilterRow"
             ...>
    <ToolBarContent>
        <MudText Typo="Typo.h6">@_headlineText (@_totalCount)</MudText>
        <MudSpacer />
        <MudIconButton Icon="@Icons.Material.Filled.FilterList"
                       Color="@(_showFilters ? Color.Primary : Color.Default)"
                       OnClick="@(() => _showFilters = !_showFilters)"
                       Title="Toggle filters" />
    </ToolBarContent>
```

```csharp
// In code-behind
private bool _showFilters = false;
```

### Pattern 3: Headline Styling Matching Legacy

**What:** The legacy `.content-headline` is a teal bar above the list. In MudDataGrid, the toolbar serves this purpose.
**When to use:** Matching the legacy visual hierarchy.

```css
/* Match legacy .content-headline look */
.portal-data-grid .mud-table-toolbar {
    background-color: var(--portal-grid-headline-bg);
    color: var(--portal-grid-headline-color);
    font-size: 15px;
    font-weight: bold;
    min-height: 44px;
    padding: 11px 20px;
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
}
```

### Anti-Patterns to Avoid
- **Hardcoding hex colors in component CSS:** Every color must come from a CSS variable so portals can override.
- **Using Blazor CSS isolation (::deep) for MudBlazor overrides:** MudBlazor generates DOM elements outside the component's scope identifier. The `::deep` combinator works in some cases but is unreliable. Use global CSS with specific class selectors instead.
- **Wrapping MudDataGrid in a custom component just for styling:** This adds complexity without benefit. MudDataGrid's `Class` parameter is sufficient for CSS-based theming.
- **Setting styles via `HeaderStyle`/`CellStyle` inline on each column:** Not reusable across lists, violates DRY, harder to theme per-portal.

## Don't Hand-Roll

| Problem | Don't Build | Use Instead | Why |
|---------|-------------|-------------|-----|
| Grid hover/selection styling | Custom JS hover handlers | MudDataGrid `Hover="true"` + CSS override for `.mud-table-hover` | MudBlazor handles all interaction states; just override the colors |
| Column filter visibility toggle | Custom filter row component | `Filterable="@_showFilters"` binding on MudDataGrid | Built-in; toggling the boolean shows/hides the filter row |
| Pagination | Custom pager component | `MudDataGridPager` | Already in use, handles all pagination logic |
| Sort indicators | Custom sort icons | MudDataGrid built-in sorting with CSS override for sort icon | MudBlazor renders sort arrows automatically |
| Column width control | JS-based column resizing | `ColGroup` with `<col style="width: X%">` | Native HTML colgroup is the standard approach for MudDataGrid column widths |

**Key insight:** MudDataGrid already implements ALL the functional behavior (sorting, filtering, pagination, hover, selection). This phase is purely CSS styling to match visual appearance. Do not rebuild any functionality.

## Common Pitfalls

### Pitfall 1: CSS Specificity Wars with MudBlazor
**What goes wrong:** Custom CSS doesn't override MudBlazor defaults because MudBlazor's compiled CSS has high specificity.
**Why it happens:** MudBlazor uses class selectors like `.mud-table-dense .mud-table-cell` which have higher specificity than a simple `.portal-data-grid td`.
**How to avoid:** Always match MudBlazor's specificity level. Use `.portal-data-grid .mud-table-body .mud-table-cell` (three class selectors) rather than `.portal-data-grid td`.
**Warning signs:** Styles appear correct in the CSS file but aren't applied in the browser. Check DevTools computed styles.

### Pitfall 2: CSS Isolation Does Not Work with MudBlazor Components
**What goes wrong:** Styles in `.razor.css` files with `::deep` selectors don't apply to MudBlazor-rendered elements.
**Why it happens:** MudBlazor components render their own DOM that doesn't carry the Blazor CSS isolation attribute (`b-xxxxx`). The `::deep` selector only works for elements that are direct children of the component's own markup.
**How to avoid:** Place all MudBlazor style overrides in global CSS files (e.g., `app.css` or dedicated theme CSS files), never in component-scoped `.razor.css` files.
**Warning signs:** Styles work when pasted into DevTools but not when loaded from the `.razor.css` file.

### Pitfall 3: MudDataGrid Dense Mode Conflicts with Custom Padding
**What goes wrong:** Setting `Dense="true"` on MudDataGrid AND providing custom padding via CSS causes conflicting styles.
**Why it happens:** `Dense="true"` adds the `.mud-table-dense` class which sets padding to `6px 24px 6px 16px`. Custom padding overrides need higher specificity.
**How to avoid:** Either use Dense mode's padding (close to legacy's 11px 13px but not exact), OR remove `Dense="true"` and set padding explicitly via CSS. Recommend removing Dense and using explicit CSS padding to match legacy exactly (11px 13px).
**Warning signs:** Padding looks inconsistent across cells, or changes when Dense is toggled.

### Pitfall 4: Filter Row State Not Persisting After Reload
**What goes wrong:** When `Filterable` is toggled to `true` and filters are applied, then toggled back to `false`, the filter definitions may or may not be cleared.
**Why it happens:** MudDataGrid's filter definitions persist in its internal state even when the filter row is hidden.
**How to avoid:** When hiding filters, optionally clear filter definitions via `_dataGrid.ClearFiltersAsync()` if you want a clean state, or leave them active for "filter and hide" UX.
**Warning signs:** Data appears filtered even though filter row is hidden.

### Pitfall 5: ColGroup Column Count Must Match Columns Count
**What goes wrong:** If `ColGroup` has a different number of `<col>` elements than the DataGrid has columns, widths are incorrectly distributed.
**Why it happens:** HTML `<colgroup>` maps 1:1 with table columns by position.
**How to avoid:** Always count columns including any TemplateColumn or hidden columns. Leave at least one `<col>` without a width so the browser can flex-fill remaining space.
**Warning signs:** The last column has unexpected width, or columns shift when columns are added/removed.

## Code Examples

### Example 1: Legacy-Matching Grid CSS Variables (Complete)

```css
/* Source: Derived from legacy default.css .list-desktop styles */

/* === Portal Theme Variables === */
.theme-recruiting {
    --portal-grid-bg: #e6f6f6;
    --portal-grid-header-bg: #e6f6f6;
    --portal-grid-cell-bg: #fff;
    --portal-grid-cell-border: #e6f6f6;
    --portal-grid-hover-bg: #e6f6f6;
    --portal-grid-selected-bg: #f6fbfb;
    --portal-grid-hover-cursor: pointer;
    --portal-grid-header-font-size: 14px;
    --portal-grid-cell-font-size: 14px;
    --portal-grid-cell-padding: 11px 13px;
    --portal-grid-header-padding: 11px 13px;
    --portal-grid-font-family: Tahoma, "Times New Roman", Arial, sans-serif;
    --portal-grid-text-color: #000;
    --portal-grid-headline-bg: #e6f6f6;
    --portal-grid-headline-color: #000;
    --portal-grid-headline-font-size: 15px;
    --portal-grid-headline-padding: 11px 20px;
    --portal-grid-headline-border-radius: 4px;
    --portal-primary: #1a9b89;
    --portal-primary-dark: #178a79;
    --portal-primary-darkest: #054541;
    --portal-action-hover-bg: #1a9b89;
}
```

### Example 2: Shared Grid Base Styles

```css
/* Source: Patterns from MudBlazor _table.scss + legacy default.css */

/* === Shared Grid Styles (all portals) === */
.portal-data-grid {
    font-family: var(--portal-grid-font-family);
    color: var(--portal-grid-text-color);
    background-color: var(--portal-grid-bg);
    padding: 0 7px 7px 7px;
}

/* Toolbar (content-headline equivalent) */
.portal-data-grid .mud-table-toolbar {
    background-color: var(--portal-grid-headline-bg);
    color: var(--portal-grid-headline-color);
    font-size: var(--portal-grid-headline-font-size);
    font-weight: bold;
    min-height: 44px;
    padding: var(--portal-grid-headline-padding);
    border-top-left-radius: var(--portal-grid-headline-border-radius);
    border-top-right-radius: var(--portal-grid-headline-border-radius);
}

/* Header cells */
.portal-data-grid .mud-table-head .mud-table-cell {
    background-color: var(--portal-grid-header-bg);
    padding: var(--portal-grid-header-padding);
    font-size: var(--portal-grid-header-font-size);
    white-space: nowrap;
    border: 1px solid var(--portal-grid-cell-border);
    color: var(--portal-grid-text-color);
}

/* Body cells */
.portal-data-grid .mud-table-body .mud-table-cell {
    background-color: var(--portal-grid-cell-bg);
    padding: var(--portal-grid-cell-padding);
    font-size: var(--portal-grid-cell-font-size);
    border: 1px solid var(--portal-grid-cell-border);
    vertical-align: middle;
}

/* Hover state */
.portal-data-grid .mud-table-body .mud-table-row:hover .mud-table-cell {
    background-color: var(--portal-grid-hover-bg);
    cursor: var(--portal-grid-hover-cursor);
}

/* Selected state */
.portal-data-grid .mud-table-body .mud-table-row.selected .mud-table-cell {
    background-color: var(--portal-grid-selected-bg);
}

/* Pagination area */
.portal-data-grid .mud-table-pagination {
    font-size: 14px;
    font-family: var(--portal-grid-font-family);
}

/* Remove MudBlazor elevation shadow -- legacy has no shadow */
.portal-data-grid.mud-table {
    box-shadow: none;
}
```

### Example 3: Filter Toggle Implementation

```razor
@* Source: MudBlazor DataGrid API documentation *@
<MudDataGrid T="ActivityListDto"
             @ref="_dataGrid"
             ServerData="LoadServerData"
             Filterable="@_showFilters"
             FilterMode="DataGridFilterMode.ColumnFilterRow"
             SortMode="SortMode.Multiple"
             Hover="true"
             Dense="false"
             RowClick="OnRowClick"
             Class="portal-data-grid"
             RowStyle="cursor: pointer;">
    <ToolBarContent>
        <MudText Typo="Typo.h6">@_headlineText (@_totalCount)</MudText>
        <MudSpacer />
        <MudTooltip Text="@(_showFilters ? "Hide filters" : "Show filters")">
            <MudIconButton Icon="@Icons.Material.Filled.FilterList"
                           Color="@(_showFilters ? Color.Primary : Color.Default)"
                           OnClick="ToggleFilters" />
        </MudTooltip>
    </ToolBarContent>
    <!-- columns... -->
</MudDataGrid>
```

```csharp
// Source: MudBlazor API - Filterable property
private bool _showFilters = false;

private void ToggleFilters()
{
    _showFilters = !_showFilters;
}
```

### Example 4: Column Width Control with ColGroup

```razor
@* Source: MudBlazor DataGrid ColGroup documentation *@
<MudDataGrid T="ActivityListDto" Class="portal-data-grid" ...>
    <ColGroup>
        <col />                         @* Headline - flexible *@
        <col style="width: 110px;" />   @* Journal No *@
        <col style="width: 120px;" />   @* Deadline *@
        <col style="width: 100px;" />   @* Status *@
        <col style="width: 90px;" />    @* Candidates *@
        <col style="width: 110px;" />   @* Created *@
        <col style="width: 48px;" />    @* View action *@
    </ColGroup>
    <Columns>
        <!-- columns in matching order -->
    </Columns>
</MudDataGrid>
```

### Example 5: Future Ad Portal Theme (Illustrating Reusability)

```css
/* theme-adportal.css -- demonstrates how a second portal overrides only colors */
.theme-adportal {
    --portal-grid-bg: #f0edf2;
    --portal-grid-header-bg: #f0edf2;
    --portal-grid-cell-bg: #fff;
    --portal-grid-cell-border: #f0edf2;
    --portal-grid-hover-bg: #f0edf2;
    --portal-grid-selected-bg: #f8f6fa;
    --portal-grid-hover-cursor: pointer;
    --portal-grid-header-font-size: 14px;
    --portal-grid-cell-font-size: 14px;
    --portal-grid-cell-padding: 11px 13px;
    --portal-grid-header-padding: 11px 13px;
    --portal-grid-font-family: Tahoma, "Times New Roman", Arial, sans-serif;
    --portal-grid-text-color: #000;
    --portal-grid-headline-bg: #f0edf2;
    --portal-grid-headline-color: #000;
    --portal-grid-headline-font-size: 15px;
    --portal-grid-headline-padding: 11px 20px;
    --portal-grid-headline-border-radius: 4px;
    --portal-primary: #421a56;
    --portal-primary-dark: #2c0740;
    --portal-primary-darkest: #0f001c;
    --portal-action-hover-bg: #421a56;
}
```

## Legacy Layout Reference

### Legacy Column Order (from ActivityList.ascx)
| # | Column | CSS Class | Visibility | Notes |
|---|--------|-----------|------------|-------|
| 1 | Select (checkbox) | `min-width no-sort` | Always | OUT OF SCOPE for this phase |
| 2 | Id | - | Always | Journal number |
| 3 | Headline | - | Always | Activity title |
| 4 | Visitors/Clicks | `visible-1400 right-align` | 1400px+ | OUT OF SCOPE (responsive) |
| 5 | Application Deadline | - | Always | Date |
| 6 | Status | - | Always | Status name |
| 7 | Client | - | Always | Client name |
| 8 | Draft Area | `visible-1300` | 1300px+ | OUT OF SCOPE (responsive) |
| 9 | Client Section | `visible-1300` | 1300px+ | OUT OF SCOPE (responsive) |
| 10 | Recruiting Responsible | - | Always | Person name |
| 11 | Create Date | `visible-1550` | 1550px+ | OUT OF SCOPE (responsive) |
| 12 | Created By | `visible-1500` | 1500px+ | OUT OF SCOPE (responsive) |
| 13 | Draft Responsible | `visible-1500` | 1500px+ | OUT OF SCOPE (responsive) |
| 14 | Template Group | `visible-1600` | 1600px+ | OUT OF SCOPE (responsive) |
| 15 | Actions | `no-sort` | Conditional | OUT OF SCOPE (action menu) |

### Legacy Visual Properties (from default.css)
| Property | Value | CSS Variable Mapping |
|----------|-------|---------------------|
| Font | Tahoma, "Times New Roman", Arial, sans-serif | `--portal-grid-font-family` |
| Font size (body) | 14px | `--portal-grid-cell-font-size` |
| Font size (headline) | 15px | `--portal-grid-headline-font-size` |
| Cell padding | 11px 13px | `--portal-grid-cell-padding` |
| Header padding | 11px 13px | `--portal-grid-header-padding` |
| Cell background | #fff | `--portal-grid-cell-bg` |
| Header/container bg | #e6f6f6 | `--portal-grid-header-bg` |
| Cell border | 1px solid #e6f6f6 | `--portal-grid-cell-border` |
| Hover background | #e6f6f6 | `--portal-grid-hover-bg` |
| Selected row bg | #f6fbfb | `--portal-grid-selected-bg` |
| Headline bg | #e6f6f6 | `--portal-grid-headline-bg` |
| Headline color | #000 | `--portal-grid-headline-color` |
| Headline border-radius | 4px top corners | `--portal-grid-headline-border-radius` |
| Text color | #000 | `--portal-grid-text-color` |
| Hover cursor | pointer | `--portal-grid-hover-cursor` |
| Container bg | #e6f6f6 | `--portal-grid-bg` |
| Container padding | 0 7px 7px 7px | (in base CSS) |
| Box shadow | none | (in base CSS) |

## State of the Art

| Old Approach | Current Approach | When Changed | Impact |
|--------------|------------------|--------------|--------|
| Inline styles per column (`HeaderStyle`, `CellStyle`) | CSS class with custom properties via `Class` param | MudBlazor 7+ | Reusable, themeable, maintainable |
| `Dense="true"` for compact padding | Explicit CSS padding via `.mud-table-cell` override | N/A | Exact pixel control matching legacy |
| Multiple `MudThemeProvider` instances for per-area theming | CSS custom properties scoped to wrapper class | N/A | MudThemeProvider sets `:root` variables globally; CSS custom properties on wrapper classes can scope per-section |

**Deprecated/outdated:**
- `::deep` for MudBlazor component styling: Works inconsistently, not recommended
- `MudTable` for data grids: MudDataGrid is the current recommended component for sortable/filterable grids

## Open Questions

1. **Exact column set for Phase 3.2**
   - What we know: The legacy has ~14 columns, many only visible at certain breakpoints. The current Blazor grid has 7 columns (Headline, JournalNo, Deadline, Status, Candidates, Created, View action).
   - What's unclear: Should the Blazor grid columns match the ALWAYS-VISIBLE legacy columns exactly (including columns not currently in the Blazor grid like Client, Recruiting Responsible)?
   - Recommendation: For this phase, match the EXISTING Blazor columns (already decided in Phase 3) with legacy spacing/styling. Adding new columns requires DTO changes and is a separate concern.

2. **MudBlazor MudTheme vs CSS Custom Properties for Portal Theming**
   - What we know: MudTheme sets CSS variables at `:root` level. Multiple portals need different color schemes. MudTheme can be switched at runtime by changing the `Theme` parameter on `MudThemeProvider`.
   - What's unclear: Whether MudTheme switching is sufficient or whether CSS custom properties on wrapper elements are also needed for grid-specific colors that aren't part of the MudBlazor palette (like `#e6f6f6` which is a very specific legacy teal).
   - Recommendation: Use BOTH. Let MudTheme handle the primary/secondary palette per portal (controls buttons, text, etc.), AND use CSS custom properties for grid-specific legacy-matching colors that don't map to standard palette properties.

3. **Where to Apply the Portal Theme Class**
   - What we know: The `theme-recruiting` class needs to be applied as a wrapper around the grid content.
   - What's unclear: Should it wrap the entire layout (in `MainLayout.razor`), just the page content, or just the grid?
   - Recommendation: Apply the portal theme class at the `MainLayout` level (or a cascading parameter) so all components within a portal inherit the theme. The `NavigationConfigService` already knows which portal is active -- this can be extended to provide the theme class.

## Sources

### Primary (HIGH confidence)
- Legacy `default.css` at `C:\Dev\Dev3Org\AtlantaSignatur\Web\MainSite\Responsive\include\css\default.css` -- `.list-desktop`, `.table-hover`, `.content-headline` styles (lines 7198-7400, 4867-4905)
- Legacy `ActivityList.ascx` at `C:\Dev\Dev3Org\AtlantaSignatur\Web\MainSite\Responsive\Recruiting\Controls\ActivityList.ascx` -- Column order and HTML structure
- Legacy `default-ad-portal.css` at `C:\Dev\Dev3Org\AtlantaSignatur\Web\MainSite\Responsive\include\css\default-ad-portal.css` -- Ad portal purple color scheme (#421a56)
- MudBlazor DataGrid source: [MudDataGrid.razor on GitHub](https://github.com/MudBlazor/MudBlazor/blob/dev/src/MudBlazor/Components/DataGrid/MudDataGrid.razor) -- CSS class names emitted
- MudBlazor table SCSS source: [_table.scss on GitHub](https://github.com/MudBlazor/MudBlazor/blob/dev/src/MudBlazor/Styles/components/_table.scss) -- Default CSS class definitions and values
- MudBlazor Palette source: [Palette.cs on GitHub](https://github.com/MudBlazor/MudBlazor/blob/dev/src/MudBlazor/Themes/Models/Palette.cs) -- All palette properties including TableLines, TableHover, TableStriped
- Existing Blazor codebase at `C:\Users\it\Documents\Dev\CustomersAndProjects\Signatur\Dev3\src\SignaturPortal.Web\` -- Current ActivityList.razor, MainLayout.razor, NavMenu.razor.css, app.css

### Secondary (MEDIUM confidence)
- [MudBlazor DataGrid documentation](https://mudblazor.com/components/datagrid) -- Filterable, FilterMode, ColGroup, RowStyleFunc, CellClassFunc properties
- [MudBlazor Custom Themes documentation](https://mudblazor.com/customization/overview) -- MudTheme, PaletteLight, CSS variables
- [MudBlazor Pseudo CSS documentation](https://mudblazor.com/customization/pseudocss) -- CSS variable naming conventions
- [MudBlazor DataGrid column width discussion](https://github.com/MudBlazor/MudBlazor/discussions/4920) -- ColGroup approach for column widths
- [MudBlazor CSS isolation discussion](https://github.com/MudBlazor/MudBlazor/discussions/2352) -- Why ::deep doesn't work with MudBlazor

### Tertiary (LOW confidence)
- [MudBlazor DataGrid header styling discussion](https://github.com/MudBlazor/MudBlazor/discussions/8174) -- min-width approach for headers
- [MudBlazor DataGrid CellClass specificity issue](https://github.com/MudBlazor/MudBlazor/issues/12530) -- CellStyle may be more reliable than CellClass

## Metadata

**Confidence breakdown:**
- Standard stack: HIGH - MudBlazor 8.0.0 already installed, CSS custom properties are a browser standard
- Architecture: HIGH - CSS variable pattern is well-established, verified MudBlazor CSS class names from source
- Pitfalls: HIGH - CSS specificity and isolation issues verified from GitHub discussions and source code
- Legacy layout values: HIGH - Read directly from legacy CSS source files

**Research date:** 2026-02-16
**Valid until:** 2026-03-16 (MudBlazor stable, CSS standards stable)
