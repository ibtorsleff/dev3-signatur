---
phase: 03.4-activity-list-row-height-pagination-styling
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/SignaturPortal.Web/wwwroot/css/portal-themes/theme-recruitingportal.css
  - src/SignaturPortal.Web/wwwroot/css/portal-themes/theme-adportal.css
  - src/SignaturPortal.Web/wwwroot/css/portal-themes/_grid-base.css
autonomous: true

must_haves:
  truths:
    - "Activity list data rows are 19px tall"
    - "Pagination footer has the same background color as the grid header"
    - "Grid remains readable -- text is not clipped, sort icons unaffected"
    - "Header row height is unchanged (only body rows affected)"
  artifacts:
    - path: "src/SignaturPortal.Web/wwwroot/css/portal-themes/theme-recruitingportal.css"
      provides: "Row height variables for recruiting theme"
      contains: "--portal-grid-row-height"
    - path: "src/SignaturPortal.Web/wwwroot/css/portal-themes/theme-adportal.css"
      provides: "Row height variables for ad portal theme"
      contains: "--portal-grid-row-height"
    - path: "src/SignaturPortal.Web/wwwroot/css/portal-themes/_grid-base.css"
      provides: "Row height enforcement rules and pagination background"
      contains: "portal-grid-row-height"
  key_links:
    - from: "theme-recruitingportal.css"
      to: "_grid-base.css"
      via: "CSS custom property --portal-grid-row-height consumed by height rule"
      pattern: "--portal-grid-row-height"
    - from: "_grid-base.css"
      to: ".mud-table-pagination"
      via: "background-color set to var(--portal-grid-header-bg)"
      pattern: "mud-table-pagination.*header-bg"
---

<objective>
Reduce activity list data row height to 19px and style pagination footer to match grid header background.

Purpose: Achieve a denser, more compact grid view and visual consistency between header and pagination footer, completing the activity list visual polish.
Output: Updated CSS files with compact row height and themed pagination footer.
</objective>

<execution_context>
@C:/Users/it/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/it/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03.4-activity-list-row-height-pagination-styling/03.4-RESEARCH.md
@src/SignaturPortal.Web/wwwroot/css/portal-themes/_grid-base.css
@src/SignaturPortal.Web/wwwroot/css/portal-themes/theme-recruitingportal.css
@src/SignaturPortal.Web/wwwroot/css/portal-themes/theme-adportal.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add row height and line-height CSS custom properties to both theme files</name>
  <files>
    src/SignaturPortal.Web/wwwroot/css/portal-themes/theme-recruitingportal.css
    src/SignaturPortal.Web/wwwroot/css/portal-themes/theme-adportal.css
  </files>
  <action>
In BOTH theme files (theme-recruitingportal.css and theme-adportal.css), add 2 new CSS custom properties and update 1 existing property:

1. **Change** `--portal-grid-cell-padding: 11px 13px` to `--portal-grid-cell-padding: 1px 13px`
   - Reduces vertical padding from 22px total to 2px total
   - Horizontal padding (13px) stays the same for column alignment

2. **Add** `--portal-grid-row-height: 19px;` (new variable)
   - Explicit row height enforcement for body rows only

3. **Add** `--portal-grid-cell-line-height: 17px;` (new variable)
   - Prevents default line-height (~20px for 14px font) from expanding rows beyond 19px
   - Math: 17px line-height + 1px top padding + 1px bottom padding = 19px

Place the new variables after `--portal-grid-cell-padding` for logical grouping. Keep `--portal-grid-header-padding: 11px 13px` UNCHANGED -- header rows must not shrink.

Do NOT change `--portal-grid-cell-font-size: 14px` -- keep 14px font. The 17px line-height provides enough room for descenders.
  </action>
  <verify>
Read both theme files and confirm:
- `--portal-grid-cell-padding` is `1px 13px` (not `11px 13px`)
- `--portal-grid-row-height: 19px` exists
- `--portal-grid-cell-line-height: 17px` exists
- `--portal-grid-header-padding` is still `11px 13px` (unchanged)
- `--portal-grid-cell-font-size` is still `14px` (unchanged)
  </verify>
  <done>Both theme files declare --portal-grid-row-height: 19px, --portal-grid-cell-line-height: 17px, and --portal-grid-cell-padding: 1px 13px. Header padding unchanged at 11px 13px.</done>
</task>

<task type="auto">
  <name>Task 2: Add row height enforcement and pagination background rules to grid base CSS</name>
  <files>
    src/SignaturPortal.Web/wwwroot/css/portal-themes/_grid-base.css
  </files>
  <action>
Update `_grid-base.css` with two changes:

**Change 1: Update body cell rule to enforce row height**

Find the existing `.portal-data-grid .mud-table-body .mud-table-cell` rule block (currently has background-color, padding, font-size, border, vertical-align). Add 3 new properties to it:

```css
line-height: var(--portal-grid-cell-line-height, normal);
height: var(--portal-grid-row-height, auto);
overflow: hidden;
```

The fallback values (`normal`, `auto`) ensure backward compatibility if a theme does not define these variables. Keep all existing properties in the rule unchanged.

Also add a rule for the row itself to enforce explicit height:

```css
.portal-data-grid .mud-table-body .mud-table-row {
    height: var(--portal-grid-row-height, auto);
}
```

Place this new rule just BEFORE the existing body cell rule. This sets height on both `<tr>` and `<td>` for maximum browser compatibility.

**Change 2: Style pagination footer to match header background**

Update the existing `.portal-data-grid .mud-table-pagination` rule to add `background-color`:

```css
.portal-data-grid .mud-table-pagination {
    font-size: 14px;
    font-family: var(--portal-grid-font-family);
    background-color: var(--portal-grid-header-bg);
}
```

Add a NEW rule for the inner pagination toolbar (place immediately after the pagination rule):

```css
.portal-data-grid .mud-table-pagination .mud-table-pagination-toolbar {
    background-color: var(--portal-grid-header-bg);
    border-top: 1px solid var(--portal-grid-cell-border);
}
```

The `border-top` override replaces MudBlazor's default gray border with the theme's cell border color for visual consistency.

IMPORTANT: Do NOT touch the `.mud-table-head` rules. Header cells must remain at their current height (controlled by `--portal-grid-header-padding: 11px 13px`).
  </action>
  <verify>
Read _grid-base.css and confirm:
- `.mud-table-body .mud-table-row` has `height: var(--portal-grid-row-height, auto)`
- `.mud-table-body .mud-table-cell` has `line-height`, `height`, and `overflow: hidden`
- `.mud-table-pagination` has `background-color: var(--portal-grid-header-bg)`
- `.mud-table-pagination .mud-table-pagination-toolbar` rule exists with background-color and border-top
- `.mud-table-head` rules are unchanged
- Build succeeds: `dotnet build src/SignaturPortal.Web`
  </verify>
  <done>Grid base CSS enforces 19px body row height via explicit height + line-height + overflow on both row and cell elements. Pagination footer has header background color on both outer wrapper and inner toolbar, with themed border-top.</done>
</task>

</tasks>

<verification>
1. `dotnet build src/SignaturPortal.Web` compiles without errors
2. Visual inspection: Activity list data rows are 19px tall (check in browser DevTools: select a `<tr>` in `.mud-table-body`, computed height should be 19px)
3. Visual inspection: Header row height unchanged (still ~36px with 11px padding)
4. Visual inspection: Pagination footer background matches the teal/purple header background
5. Visual inspection: Text in cells is readable, descenders (g, j, p, q, y) not clipped
6. Visual inspection: Sort icons in header unaffected
</verification>

<success_criteria>
- Activity list data rows render at 19px height
- Pagination footer has same background color as grid header (#e6f6f6 for recruiting theme)
- Header row retains original height and styling
- Grid is readable and functional at reduced row height
- Both recruiting and ad portal themes have the new variables
</success_criteria>

<output>
After completion, create `.planning/phases/03.4-activity-list-row-height-pagination-styling/03.4-01-SUMMARY.md`
</output>
