---
phase: 03.5-localization
plan: 02
type: execute
wave: 2
depends_on: ["03.5-01"]
files_modified:
  - src/SignaturPortal.Web/Components/Pages/Activities/ActivityList.razor
  - src/SignaturPortal.Web/Components/Pages/Activities/ActivityList.razor.cs
autonomous: true

must_haves:
  truths:
    - "Activity list headline text comes from GetText, not hardcoded Danish strings"
    - "Filter toggle tooltip comes from GetText"
    - "Column titles come from GetText"
    - "All visible text on the activity list page is localized via ILocalizationService"
    - "Localization keys are reasonable English identifiers (full migration prep -- ALL DB keys will be available, exact key matching happens during full migration)"
  artifacts:
    - path: "src/SignaturPortal.Web/Components/Pages/Activities/ActivityList.razor.cs"
      provides: "Localized headline text via ILocalizationService.GetText"
      contains: "ILocalizationService"
    - path: "src/SignaturPortal.Web/Components/Pages/Activities/ActivityList.razor"
      provides: "Localized column titles and UI text via L.GetText"
      contains: "L.GetText"
  key_links:
    - from: "src/SignaturPortal.Web/Components/Pages/Activities/ActivityList.razor.cs"
      to: "ILocalizationService"
      via: "@inject"
      pattern: "ILocalizationService"
    - from: "src/SignaturPortal.Web/Components/Pages/Activities/ActivityList.razor"
      to: "ILocalizationService"
      via: "L.GetText calls"
      pattern: "L\\.GetText"
---

<objective>
Replace all hardcoded Danish strings in ActivityList.razor and ActivityList.razor.cs with ILocalizationService.GetText calls. This covers the headline text ("Kladdesager", "Igangvaerende sager", "Afsluttede sager"), filter toggle tooltip ("Skjul filtre"/"Vis filtre"), column titles, and the "No records" message.

Purpose: The activity list page displays correctly localized text based on the user's language, using the same localization keys as the legacy WebForms ActivityList.
Output: ActivityList page with zero hardcoded Danish strings.
</objective>

<execution_context>
@C:/Users/it/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/it/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/03.5-make-the-full-legacy-localization-globalization-system-available-in-the-blazor-app-example-is-the-gettext-which-is-available-via-the-basepage-cs-in-the-legacy-app-the-database-cannot-be-altered/03.5-RESEARCH.md
@.planning/phases/03.5-make-the-full-legacy-localization-globalization-system-available-in-the-blazor-app-example-is-the-gettext-which-is-available-via-the-basepage-cs-in-the-legacy-app-the-database-cannot-be-altered/03.5-01-SUMMARY.md
@src/SignaturPortal.Web/Components/Pages/Activities/ActivityList.razor
@src/SignaturPortal.Web/Components/Pages/Activities/ActivityList.razor.cs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Localize ActivityList headline, tooltips, column titles, and static text</name>
  <files>
    src/SignaturPortal.Web/Components/Pages/Activities/ActivityList.razor
    src/SignaturPortal.Web/Components/Pages/Activities/ActivityList.razor.cs
  </files>
  <action>
    **NOTE: This is full app migration prep. ALL localization keys from the database are available via the infrastructure built in Plan 01. Use reasonable English identifier keys as placeholders. The exact legacy keys will be matched during full migration -- this plan proves the GetText infrastructure works with ANY key.**

    1. **ActivityList.razor.cs** -- Add `[Inject] private ILocalizationService L { get; set; } = default!;` and add `using SignaturPortal.Application.Interfaces;` if not already present.

    2. **ActivityList.razor.cs** -- Replace hardcoded headline text in `OnParametersSet`:
       ```csharp
       _headlineText = newStatus switch
       {
           ERActivityStatus.Draft => L.GetText("DraftActivities"),
           ERActivityStatus.Closed => L.GetText("ClosedActivities"),
           _ => L.GetText("OngoingActivities")
       };
       ```
       Also update the field initializer `private string _headlineText = "..."` to not include a hardcoded default -- set it in OnParametersSet which always runs.

    3. **ActivityList.razor** -- Replace hardcoded UI text with GetText using these placeholder keys:
       - Filter toggle tooltip: `"Skjul filtre"` -> `L.GetText("HideFilters")` and `"Vis filtre"` -> `L.GetText("ShowFilters")`
       - Column Title attributes: Replace each `Title="..."` with GetText, e.g., `Title="@L.GetText("ColumnHeadline")"`, `Title="@L.GetText("ColumnDeadline")"`, `Title="@L.GetText("ColumnResponsible")"`, etc. Use descriptive English keys like "ColumnHeadline", "ColumnDeadline", "ColumnResponsible", "ColumnDepartment", "ColumnCreatedBy", etc.
       - "Continuous Posting" tooltip: `L.GetText("ContinuousPosting")`
       - "Copy activity" title: `L.GetText("CopyActivity")`
       - "No recruitment activities found." in NoRecordsContent: `L.GetText("NoActivitiesFound")`
       - "Error loading activities..." snackbar message in code-behind: `L.GetText("ErrorLoadingActivities")`

    4. **Key naming convention:** Use PascalCase English identifiers (e.g., "DraftActivities", "ShowFilters", "ColumnHeadline"). These are placeholder keys -- the GetText infrastructure will return `[KeyName]` if no DB entry exists yet, which is acceptable for now. During full migration, the Localization table will be populated with entries matching these keys.
  </action>
  <verify>
    1. Run `dotnet build src/SignaturPortal.Web` -- must compile.
    2. Grep the files for any remaining hardcoded Danish strings: `grep -rn "Kladde\|Igangv\|Afslut\|Skjul filtre\|Vis filtre" src/SignaturPortal.Web/Components/Pages/Activities/`
    3. The grep should return zero matches (all replaced with GetText).
  </verify>
  <done>
    ActivityList.razor and .razor.cs contain zero hardcoded Danish strings. All visible text uses ILocalizationService.GetText with descriptive PascalCase English keys. Keys will be populated in Localization table during full migration -- this plan ensures GetText infrastructure works with ANY key.
  </done>
</task>

</tasks>

<verification>
1. `dotnet build src/SignaturPortal.Web` compiles
2. No hardcoded Danish strings remain in ActivityList files
3. Activity list renders correctly with localized text when running the app
</verification>

<success_criteria>
- Every user-visible string on the activity list page comes from ILocalizationService.GetText
- Localization keys use descriptive PascalCase English identifiers (full migration prep -- exact legacy key matching deferred to full migration)
- Page renders with localized text from DB where keys exist, or [KeyName] brackets where keys are not yet populated
</success_criteria>

<output>
After completion, create `.planning/phases/03.5-make-the-full-legacy-localization-globalization-system-available-in-the-blazor-app-example-is-the-gettext-which-is-available-via-the-basepage-cs-in-the-legacy-app-the-database-cannot-be-altered/03.5-02-SUMMARY.md`
</output>
