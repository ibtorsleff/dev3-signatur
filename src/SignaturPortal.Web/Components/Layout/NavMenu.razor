<nav class="top-menu">
    @* Row 1: Primary navigation with icons *@
    <div class="row-1">
        <div class="top-logo">
            <a href="@_config.PortalUrl">
                <div>@_config.PortalName</div>
            </a>
        </div>
        <ul class="menu-items menu-items-left">
            @foreach (var item in _config.Row1Items)
            {
                <li class="@(item.IsSelected ? "selected" : "")">
                    <a href="@item.Url">
                        <div class="icon @item.IconClass">@item.Label</div>
                    </a>
                </li>
            }
        </ul>
        <ul class="menu-items menu-items-right">
            @foreach (var item in _config.Row1RightItems)
            {
                <li>
                    <a href="@item.Url">
                        <div class="icon @item.IconClass">@item.Label</div>
                    </a>
                </li>
            }
        </ul>
    </div>

    @* Row 2: Secondary tabs *@
    <div class="row-2">
        <ul class="menu-items menu-items-left">
            @foreach (var item in _config.Row2Items)
            {
                <li class="@(item.IsSelected ? "selected" : "")">
                    <a href="@item.Url">
                        <div>@item.Label</div>
                    </a>
                </li>
            }
        </ul>
        <ul class="menu-items menu-items-right">
            <li class="user-info">
                <div>@(Session.IsInitialized ? Session.UserName : "User") <img class="user-icon" src="/Responsive/images/responsive/top-menu/user_44x44.png" alt="User" /></div>
            </li>
        </ul>
    </div>

    @* Row 3: Tertiary sub-navigation (hidden if empty) *@
    @if (_config.Row3Items.Count > 0)
    {
        <div class="row-3">
            <ul class="menu-items menu-items-left">
                @foreach (var item in _config.Row3Items)
                {
                    <li class="@(item.IsSelected ? "selected" : "")">
                        <a href="@item.Url">
                            <div>@item.Label</div>
                        </a>
                    </li>
                }
            </ul>
        </div>
    }
</nav>
