@using SignaturPortal.Application.Interfaces
@inject IUserSessionContext Session

<nav class="top-menu">
    @* Row 1: Primary navigation with icons *@
    <div class="row-1">
        <div class="top-logo">
            <a href="@_config.PortalUrl">
                <div>@_config.PortalName</div>
            </a>
        </div>
        <ul class="menu-items menu-items-left">
            @foreach (var item in _config.Row1Items)
            {
                <li class="@(item.IsSelected ? "selected" : "")">
                    <a href="@item.Url">
                        <div class="icon @item.IconClass">@item.Label</div>
                    </a>
                </li>
            }
        </ul>
        <ul class="menu-items menu-items-right">
            @foreach (var item in _config.Row1RightItems)
            {
                <li>
                    <a href="@item.Url">
                        <div class="icon @item.IconClass">@item.Label</div>
                    </a>
                </li>
            }
        </ul>
    </div>

    @* Row 2: Secondary tabs *@
    <div class="row-2">
        <ul class="menu-items menu-items-left">
            @foreach (var item in _config.Row2Items)
            {
                <li class="@(item.IsSelected ? "selected" : "")">
                    <a href="@item.Url">
                        <div>@item.Label</div>
                    </a>
                </li>
            }
        </ul>
        <ul class="menu-items menu-items-right">
            <li class="user-info">
                <div>@(Session.IsInitialized ? Session.UserName : "User") <img class="user-icon" src="/Responsive/images/responsive/top-menu/user_44x44.png" alt="User" /></div>
            </li>
        </ul>
    </div>

    @* Row 3: Tertiary sub-navigation (hidden if empty) *@
    @if (_config.Row3Items.Count > 0)
    {
        <div class="row-3">
            <ul class="menu-items menu-items-left">
                @foreach (var item in _config.Row3Items)
                {
                    <li class="@(item.IsSelected ? "selected" : "")">
                        <a href="@item.Url">
                            <div>@item.Label</div>
                        </a>
                    </li>
                }
            </ul>
        </div>
    }
</nav>

@code {
    private readonly NavMenuConfig _config = new()
    {
        PortalName = "Rekruttering",
        PortalUrl = "/",
        Row1Items =
        [
            new() { Label = "Sagsliste", Url = "/activities", IconClass = "icon-activity-list", IsSelected = true },
            new() { Label = "S\u00f8g", Url = "/Responsive/Recruiting/Search.aspx", IconClass = "icon-search" },
            new() { Label = "Jobbank", Url = "/Responsive/Recruiting/JobBank.aspx", IconClass = "icon-jobbank" },
            new() { Label = "Hj\u00e6lp", Url = "/Responsive/Recruiting/Help.aspx", IconClass = "icon-help" },
            new() { Label = "Admin", Url = "/Responsive/Recruiting/Admin.aspx", IconClass = "icon-admin" },
            new() { Label = "Statistik", Url = "/Responsive/Recruiting/StatisticsQuestionnaire.aspx", IconClass = "icon-statistics" },
        ],
        Row1RightItems =
        [
            new() { Label = "Medarbejderportal", Url = "/Responsive/OnBoarding/Default.aspx", IconClass = "icon-employee-portal" },
            new() { Label = "Annonceportal", Url = "/Responsive/AdPortal/ActivityList.aspx", IconClass = "icon-ad-portal" },
        ],
        Row2Items =
        [
            new() { Label = "Rekruttering", Url = "/activities" },
            new() { Label = "Sp\u00f8rgeskema", Url = "/Responsive/Recruiting/StatisticsQuestionnaire.aspx", IsSelected = true },
            new() { Label = "Medie", Url = "/Responsive/Recruiting/MediaStatistics.aspx" },
        ],
        Row3Items =
        [
            new() { Label = "Tendenser", Url = "/Responsive/Recruiting/StatisticsQuestionnaire.aspx", IsSelected = true },
            new() { Label = "Besvarelser", Url = "/Responsive/Recruiting/StatisticsQuestionnaireAnswers.aspx" },
        ],
    };
}
