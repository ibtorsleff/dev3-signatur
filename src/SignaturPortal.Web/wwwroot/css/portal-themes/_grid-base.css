/* Shared grid styles for all portal themes.
   Text, bg, hover and pagination use --mud-palette-* vars for automatic dark mode.
   Border color uses --portal-grid-cell-border (portal-controlled) because each portal
   wants specific border visibility; dark mode overrides are in each theme-*.css file. */

/* === Root grid container === */
.portal-data-grid {
    font-family: var(--portal-grid-font-family);
    color: var(--mud-palette-text-primary);
    background-color: var(--portal-grid-bg);
    padding: 0;
}

/* === Toolbar (legacy content-headline equivalent) === */
.portal-data-grid.mud-table .mud-toolbar.mud-table-toolbar {
    background-color: var(--portal-grid-headline-bg);
    color: var(--mud-palette-text-primary) !important;
    font-size: var(--portal-grid-headline-font-size);
    font-weight: bold;
    height: 50px;
    min-height: 50px;
    padding: var(--portal-grid-headline-padding);
    border-top-left-radius: var(--portal-grid-headline-border-radius);
    border-top-right-radius: var(--portal-grid-headline-border-radius);
}

/* === Header cells === */
.portal-data-grid .mud-table-head .mud-table-cell {
    background-color: var(--portal-grid-header-bg);
    padding: var(--portal-grid-header-padding);
    font-size: var(--portal-grid-header-font-size);
    font-weight: bold;
    white-space: nowrap;
    border: 1px solid var(--portal-grid-cell-border);
    color: var(--mud-palette-text-primary);
}

/* === Header label text (sortable and non-sortable columns) === */
.portal-data-grid .mud-table-head .mud-table-cell * {
    font-weight: bold;
}

/* === Body rows === */
.portal-data-grid .mud-table-body .mud-table-row {
    height: var(--portal-grid-row-height, auto);
}

/* === Body cells === */
.portal-data-grid .mud-table-body .mud-table-cell {
    background-color: var(--mud-palette-surface);
    padding: var(--portal-grid-cell-padding);
    font-size: var(--portal-grid-cell-font-size);
    border: 1px solid var(--portal-grid-cell-border);
    color: var(--mud-palette-text-primary);
    vertical-align: middle;
    line-height: var(--portal-grid-cell-line-height, normal);
    height: var(--portal-grid-row-height, auto);
    max-height: var(--portal-grid-row-height, none);
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}

/* === Hover state === */
.portal-data-grid .mud-table-body .mud-table-row:hover .mud-table-cell {
    background-color: var(--mud-palette-action-default-hover);
    cursor: var(--portal-grid-hover-cursor);
}

/* === Selected state === */
.portal-data-grid .mud-table-body .mud-table-row.selected .mud-table-cell {
    background-color: var(--mud-palette-action-default-hover);
}

/* === Pagination area === */
.portal-data-grid .mud-table-pagination {
    font-size: 14px;
    font-family: var(--portal-grid-font-family);
    background-color: var(--portal-grid-header-bg);
    color: var(--mud-palette-text-secondary);
}

.portal-data-grid .mud-table-pagination .mud-table-pagination-toolbar {
    background-color: var(--portal-grid-header-bg);
    border-top: 1px solid var(--portal-grid-cell-border);
    color: var(--mud-palette-text-secondary);
}

/* === Header content: keep sort icon next to label text === */
.portal-data-grid .mud-table-head .mud-table-cell .column-header {
    display: inline-flex !important;
    width: auto !important;
}

/* === Sort icons always visible === */
.portal-data-grid .sort-direction-icon {
    opacity: 0.4 !important;
    visibility: visible !important;
}

.portal-data-grid .mud-table-head .mud-table-cell:hover .sort-direction-icon {
    opacity: 1 !important;
}

/* === Loading progress bar === */
.portal-data-grid .mud-table-loading-progress .mud-progress-linear-bar,
.portal-data-grid .mud-progress-linear .mud-progress-linear-bar,
.portal-data-grid .mud-progress-linear-bar {
    background-color: var(--portal-primary-dark) !important;
}

/* === Loading progress bar track (background behind the moving bar) === */
.portal-data-grid .mud-table-loading-progress,
.portal-data-grid .mud-table-loading-progress .mud-progress-linear,
.portal-data-grid .mud-table-loading-progress .mud-progress-linear-bars,
.portal-data-grid .mud-progress-linear,
.portal-data-grid .mud-progress-linear .mud-progress-linear-bars {
    background-color: var(--portal-grid-header-bg) !important;
}

/* === Impersonate dialog search toolbar — single horizontal row === */
.impersonate-search-toolbar {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 12px;
    flex-wrap: nowrap;
}

.impersonate-search-field {
    flex: 1 1 auto;
    min-width: 140px;
}

.impersonate-client-select {
    flex: 0 0 220px;
}

.impersonate-toolbar-btn {
    flex: 0 0 auto;
    white-space: nowrap;
}

/* === Dialog title — matches grid header background across portals and dark mode === */
.mud-dialog .mud-dialog-title {
    background-color: var(--portal-grid-header-bg);
    border-bottom: 1px solid var(--portal-grid-cell-border);
}

/* === Dialog actions — right padding matches dialog content so buttons align with fields === */
.mud-dialog .mud-dialog-actions {
    padding-right: 24px !important;
    padding-bottom: 20px !important;
}

/* === Remove MudBlazor elevation shadow -- legacy has no shadow === */
.portal-data-grid.mud-table {
    box-shadow: none;
    border: 7px solid var(--portal-grid-bg);
    border-top: none;
}

/* === Table fills container width — no trailing whitespace === */
.portal-data-grid .mud-table-container table {
    width: 100%;
    background-color: var(--mud-palette-surface);
}

/* === Activity list row color coding (ID cell only — matches legacy behavior) ===
   activity-row-needs-review : orange — member has unread/unevaluated candidates, deadline not exceeded
   activity-row-overdue      : red    — member has unread/unevaluated candidates, deadline exceeded
   activity-row-reviewed     : gray   — member has no pending candidates, activity still active
   Hover colors lighten the tint (matching legacy CSS color-1/2/3 hover values). */
.portal-data-grid .mud-table-row.activity-row-needs-review td:first-child { background-color: #fadfaa; }
.portal-data-grid .mud-table-row.activity-row-overdue td:first-child      { background-color: #fac0c0; }
.portal-data-grid .mud-table-row.activity-row-reviewed td:first-child      { background-color: #e8e8e8; }

.portal-data-grid .mud-table-row.activity-row-needs-review:hover td:first-child { background-color: #fff0d8; }
.portal-data-grid .mud-table-row.activity-row-overdue:hover td:first-child      { background-color: #fff0f0; }
.portal-data-grid .mud-table-row.activity-row-reviewed:hover td:first-child      { background-color: #f0f0f0; }

/* === Cleaned/archived activity rows — gray italic text across all cells === */
.portal-data-grid .mud-table-row.activity-row-cleaned td {
    color: #b0a0a0 !important;
    font-style: italic !important;
}
